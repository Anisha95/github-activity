{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/anisha/weather-app/src/components/CommitDetails.jsx\";\nimport React, { Component } from 'react';\nimport { Chart, BarSeries, Title, ArgumentAxis, ValueAxis } from \"@devexpress/dx-react-chart-material-ui\";\nimport Paper from \"@material-ui/core/Paper\";\nimport axios from \"axios\";\nimport Pagination from \"react-js-pagination\";\nimport Paginator from './Paginator';\nimport { FaAngleLeft } from \"react-icons/fa\";\nimport { Animation } from \"@devexpress/dx-react-chart\";\n\nclass CommitDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      commitsData: null,\n      dataList: [],\n      activePage: 0,\n      totalPages: 0,\n      shouldRender: false\n    };\n    this.handlePageChange = this.handlePageChange.bind(this);\n  }\n\n  getCurrentPageLastIndex() {\n    const last_index = this.state.dataList.length - 1;\n    let page_last_index = last_index - 10 * (this.state.totalPages - this.state.activePage);\n    return page_last_index;\n  }\n\n  getCurrentPageFirstIndex() {\n    const page_last_index = this.getCurrentPageLastIndex();\n\n    if (page_last_index - 9 < 0) {\n      return 0;\n    }\n\n    return page_last_index - 9;\n  }\n\n  async componentDidMount() {\n    const {\n      data,\n      userName\n    } = this.props;\n    let dataList = [];\n    let response = await axios.get(`https://api.github.com/repos/${userName}/${data.name}/stats/participation`);\n    let commitsData = response.data.all;\n\n    for (let i = 0; i < commitsData.length; i++) {\n      dataList.push({\n        week: \"WEEK \" + (i + 1),\n        commit: commitsData[i]\n      });\n    }\n\n    this.setState({\n      dataList: dataList,\n      activePage: Math.ceil(dataList.length / 10),\n      totalPages: Math.ceil(dataList.length / 10),\n      shouldRender: true\n    });\n  }\n\n  handlePageChange(pageNumber) {\n    console.log(`active page is ${pageNumber}`);\n    this.setState({\n      activePage: pageNumber\n    });\n  }\n\n  render() {\n    const {\n      data\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        padding: '5%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(FaAngleLeft, {\n          size: \"3em\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Chart, {\n        data: this.state.dataList.slice(this.getCurrentPageFirstIndex(), this.getCurrentPageLastIndex() + 1),\n        children: [/*#__PURE__*/_jsxDEV(ArgumentAxis, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ValueAxis, {\n          max: this.getCurrentPageLastIndex() - this.getCurrentPageFirstIndex() + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BarSeries, {\n          valueField: \"commit\",\n          argumentField: \"week\",\n          barWidth: 1,\n          color: 'green'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Title, {\n          text: \"Yearly Activity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Animation, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 12\n      }, this), this.state.activePage ? /*#__PURE__*/_jsxDEV(Paginator, {\n        totalPage: this.state.totalPages,\n        activePage: this.state.activePage,\n        onChange: this.handlePageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this) : null]\n    }, this.state.activePage, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default CommitDetails;","map":{"version":3,"sources":["/home/anisha/weather-app/src/components/CommitDetails.jsx"],"names":["React","Component","Chart","BarSeries","Title","ArgumentAxis","ValueAxis","Paper","axios","Pagination","Paginator","FaAngleLeft","Animation","CommitDetails","constructor","props","state","commitsData","dataList","activePage","totalPages","shouldRender","handlePageChange","bind","getCurrentPageLastIndex","last_index","length","page_last_index","getCurrentPageFirstIndex","componentDidMount","data","userName","response","get","name","all","i","push","week","commit","setState","Math","ceil","pageNumber","console","log","render","width","padding","slice"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n    Chart,\n    BarSeries,\n    Title,\n    ArgumentAxis,\n    ValueAxis,\n  } from \"@devexpress/dx-react-chart-material-ui\";\n  import Paper from \"@material-ui/core/Paper\";\n  import axios from \"axios\";\n  import Pagination from \"react-js-pagination\";\n  import Paginator from './Paginator';\n  import {FaAngleLeft} from \"react-icons/fa\";\n  import { Animation } from \"@devexpress/dx-react-chart\";\n\nclass CommitDetails extends Component {\n   \n     constructor(props) {\n        super(props);\n        this.state = { \n            commitsData: null,\n            dataList: [],\n            activePage: 0,\n            totalPages: 0,\n            shouldRender: false\n         }\n         this.handlePageChange = this.handlePageChange.bind(this);\n        }\n\n     getCurrentPageLastIndex() {\n        const last_index = this.state.dataList.length - 1;\n        let page_last_index =\n          last_index - 10 * (this.state.totalPages - this.state.activePage);\n        return page_last_index;\n      }\n    \n      getCurrentPageFirstIndex() {\n        const page_last_index = this.getCurrentPageLastIndex();\n        if (page_last_index - 9 < 0) {\n          return 0;\n        }\n        return page_last_index - 9;\n      }\n    \n\n    async componentDidMount() {\n        const {data, userName} = this.props;\n        let dataList = [];\n        let response = await axios.get(`https://api.github.com/repos/${userName}/${data.name}/stats/participation`);\n        let commitsData = response.data.all;\n\n        \n            for (let i = 0; i < commitsData.length; i++) {\n                dataList.push({\n                  week: \"WEEK \" + (i + 1),\n                  commit: commitsData[i],\n                });\n              }\n              this.setState({\n                  dataList: dataList,\n                  activePage: Math.ceil(dataList.length / 10),\n                  totalPages: Math.ceil(dataList.length / 10),\n                  shouldRender: true\n              })\n            \n    }\n\n    handlePageChange(pageNumber) {\n        console.log(`active page is ${pageNumber}`);\n        this.setState({activePage: pageNumber});\n      }\n\n    render() { \n        const {data} = this.props;\n        return ( \n        <div key={this.state.activePage} style={{ width: '100%', padding: '5%'}}>\n            <div>\n            <FaAngleLeft size=\"3em\" />\n            </div>\n            \n           <Chart\n          data={this.state.dataList.slice(\n            this.getCurrentPageFirstIndex(),\n            this.getCurrentPageLastIndex() + 1\n          )}\n        >\n          <ArgumentAxis />\n          <ValueAxis\n            max={\n                this.getCurrentPageLastIndex() -\n                this.getCurrentPageFirstIndex() +\n                1\n            }\n          />\n\n          <BarSeries valueField=\"commit\" argumentField=\"week\" barWidth={1} color={'green'}/>\n          <Title text=\"Yearly Activity\"/>\n          <Animation />\n        </Chart>\n        {this.state.activePage ? (\n        <Paginator \n            totalPage={this.state.totalPages}\n            activePage={this.state.activePage}\n            onChange={this.handlePageChange}\n        />) : null}\n        </div>);\n    }\n}\n \nexport default CommitDetails;"]},"metadata":{},"sourceType":"module"}